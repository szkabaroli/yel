import{environment as e,exit as t,stderr as a,stdin as r,stdout as s,terminalInput as n,terminalOutput as o,terminalStderr as c,terminalStdin as i,terminalStdout as l}from"@bytecodealliance/preview2-shim/cli";import{monotonicClock as u}from"@bytecodealliance/preview2-shim/clocks";import{preopens as d,types as f}from"@bytecodealliance/preview2-shim/filesystem";import{error as p,streams as b}from"@bytecodealliance/preview2-shim/io";import{insecureSeed as k}from"@bytecodealliance/preview2-shim/random";const{getArguments:y,getEnvironment:m}=e,{exit:A}=t,{getStderr:w}=a,{getStdin:h}=r,{getStdout:v}=s,{TerminalInput:g}=n,{TerminalOutput:I}=o,{getTerminalStderr:E}=c,{getTerminalStdin:C}=i,{getTerminalStdout:R}=l,{now:N}=u,{getDirectories:T}=d,{Descriptor:L,filesystemErrorCode:X}=f,{Error:B}=p,{InputStream:Z,OutputStream:j}=b,{insecureSeed:W}=k;let S=new DataView(new ArrayBuffer);const x=e=>S.buffer===e.buffer?S:S=new DataView(e.buffer),O=e=>BigInt.asUintN(64,BigInt(e));function Q(e){return e>>>0}const F=new TextDecoder,V=new TextEncoder;let D=0;function G(e,t,a){if("string"!=typeof e)throw new TypeError("expected a string");if(0===e.length)return D=0,1;let r=V.encode(e),s=t(0,0,1,r.length);return new Uint8Array(a.buffer).set(r,s),D=r.length,s}const Y=1<<30;function z(e,t){const a=e[0]&~Y;return 0===a?(e.push(0),e.push(t|Y),(e.length>>1)-1):(e[0]=e[a<<1],e[a<<1]=0,e[1+(a<<1)]=t|Y,a)}function M(e,t){const a=e[t<<1],r=e[1+(t<<1)],s=0!==(r&Y),n=r&~Y;if(0===r||0!==(a&Y))throw new TypeError("Invalid handle");return e[t<<1]=e[0]|Y,e[0]=t|Y,{rep:n,scope:a,own:s}}let _=[],P=0n;function J(e,t,a){if(te("[startCurrentTask()] args",{componentIdx:e,isAsync:t}),null==e)throw Error("missing/invalid component instance index while starting task");const r=H.get(e),s=++P,n={id:s,componentIdx:e,task:new AsyncTask({id:s,componentIdx:e,isAsync:t,entryFnName:a})};return $.push(s),q.push(e),r?(r.push(n),s):(H.set(e,[n]),s)}function U(e,t){if(te("[endCurrentTask()] args",{componentIdx:e}),e??=q.at(-1),t??=$.at(-1),null==e)throw Error("missing/invalid component instance index while ending current task");const a=H.get(e);if(!a||!Array.isArray(a))throw Error("missing/invalid tasks for component instance while ending task");if(0==a.length)throw Error("no current task(s) for component instance while ending task");if(t){if(a[a.length-1].id!==t)throw Error("current task does not match expected task ID")}return $.pop(),q.pop(),a.pop()}const H=new Map,$=[],q=[];class AsyncTask{static State={INITIAL:"initial",CANCELLED:"cancelled",CANCEL_PENDING:"cancel-pending",CANCEL_DELIVERED:"cancel-delivered",RESOLVED:"resolved"};static BlockResult={CANCELLED:"block.cancelled",NOT_CANCELLED:"block.not-cancelled"};#e;#t;#a;#r;#s=null;#n=null;#o=[];#c=null;cancelled=!1;requested=!1;alwaysTaskReturn=!1;returnCalls=0;storage=[0,0];borrowedHandles={};awaitableResume=null;awaitableCancel=null;constructor(e){if(void 0===e?.id)throw new TypeError("missing task ID during task creation");if(this.#e=e.id,void 0===e?.componentIdx)throw new TypeError("missing component id during task creation");this.#t=e.componentIdx,this.#a=AsyncTask.State.INITIAL,this.#r=e?.isAsync??!1,this.#n=e.entryFnName;const{promise:t,resolve:a,reject:r}=Promise.withResolvers();this.#c=t,this.#s=e=>{a(e)}}taskState(){return this.#a.slice()}id(){return this.#e}componentIdx(){return this.#t}isAsync(){return this.#r}entryFnName(){return this.#n}completionPromise(){return this.#c}mayEnter(e){const t=ee(this.#t);if(!t.backpressure)return te("[AsyncTask#mayEnter()] disallowed due to backpressure",{taskID:this.#e}),!1;if(!t.callingSyncImport())return te("[AsyncTask#mayEnter()] disallowed due to sync import call",{taskID:this.#e}),!1;return!(!t.callingSyncExport||e.isAsync)||(te("[AsyncTask#mayEnter()] disallowed due to sync export w/ sync pending",{taskID:this.#e}),!1)}async enter(){te("[AsyncTask#enter()] args",{taskID:this.#e});const e=ee(this.#t);let t=!this.mayEnter(this);const a=e.pendingTasks>0;if(t||a)throw Error("in enter()");return this.isAsync||(e.callingSyncExport=!0),!0}async waitForEvent(e){const{waitableSetRep:t,isAsync:a}=e;if(te("[AsyncTask#waitForEvent()] args",{taskID:this.#e,waitableSetRep:t,isAsync:a}),this.#r!==a)throw Error("async waitForEvent called on non-async task");if(this.status===AsyncTask.State.CANCEL_PENDING)return this.#a=AsyncTask.State.CANCEL_DELIVERED,{code:ASYNC_EVENT_CODE.TASK_CANCELLED};const r=ee(this.#t).waitableSets.get(t);if(!r)throw Error("missing/invalid waitable set");r.numWaiting+=1;let s=null;for(;null==s;){const e=new Awaitable(r.getPendingEvent());if(await this.blockOn({awaitable:e,isAsync:a,isCancellable:!0})){if(this.#a!==AsyncTask.State.INITIAL)throw Error("task should be in initial state found ["+this.#a+"]");return this.#a=AsyncTask.State.CANCELLED,{code:ASYNC_EVENT_CODE.TASK_CANCELLED}}s=r.poll()}return r.numWaiting-=1,s}waitForEventSync(e){throw Error("AsyncTask#yieldSync() not implemented")}async pollForEvent(e){const{waitableSetRep:t,isAsync:a}=e;if(te("[AsyncTask#pollForEvent()] args",{taskID:this.#e,waitableSetRep:t,isAsync:a}),this.#r!==a)throw Error("async pollForEvent called on non-async task");throw Error("AsyncTask#pollForEvent() not implemented")}pollForEventSync(e){throw Error("AsyncTask#yieldSync() not implemented")}async blockOn(e){const{awaitable:t,isCancellable:a,forCallback:r}=e;if(te("[AsyncTask#blockOn()] args",{taskID:this.#e,awaitable:t,isCancellable:a,forCallback:r}),t.resolved()&&!ae&&re())return AsyncTask.BlockResult.NOT_CANCELLED;const s=ee(this.#t);r&&s.exclusiveRelease();let n=await this.onBlock(t);if(n===AsyncTask.BlockResult.CANCELLED&&!a){if(await this.onBlock(t)!==AsyncTask.BlockResult.NOT_CANCELLED)throw Error("uncancellable task was canceled despite second onBlock()")}if(r){const e=new Awaitable(s.exclusiveLock());if(n=await this.onBlock(e),n===AsyncTask.BlockResult.CANCELLED){if(await this.onBlock(e)!==AsyncTask.BlockResult.NOT_CANCELLED)throw Error("uncancellable callback task was canceled despite second onBlock()")}}if(n===AsyncTask.BlockResult.CANCELLED){if(this.#a!==AsyncTask.State.INITIAL)throw Error("cancelled task is not at initial state");return a?(this.#a=AsyncTask.State.CANCELLED,AsyncTask.BlockResult.CANCELLED):(this.#a=AsyncTask.State.CANCEL_PENDING,AsyncTask.BlockResult.NOT_CANCELLED)}return AsyncTask.BlockResult.NOT_CANCELLED}async onBlock(e){if(te("[AsyncTask#onBlock()] args",{taskID:this.#e,awaitable:e}),!(e instanceof Awaitable))throw Error("invalid awaitable during onBlock");const{promise:t,resolve:a,reject:r}=Promise.withResolvers();this.awaitableResume=()=>{te("[AsyncTask] resuming after onBlock",{taskID:this.#e}),a()},this.awaitableCancel=e=>{te("[AsyncTask] rejecting after onBlock",{taskID:this.#e,err:e}),r(e)};ee(this.#t).parkTaskOnAwaitable({awaitable:e,task:this});try{return await t,AsyncTask.BlockResult.NOT_CANCELLED}catch(e){return AsyncTask.BlockResult.CANCELLED}}async asyncOnBlock(e){if(te("[AsyncTask#asyncOnBlock()] args",{taskID:this.#e,awaitable:e}),!(e instanceof Awaitable))throw Error("invalid awaitable during onBlock");throw Error("AsyncTask#asyncOnBlock() not yet implemented")}async yield(e){const{isCancellable:t,forCallback:a}=e;if(te("[AsyncTask#yield()] args",{taskID:this.#e,isCancellable:t,forCallback:a}),t&&this.status===AsyncTask.State.CANCEL_PENDING)return this.#a=AsyncTask.State.CANCELLED,{code:ASYNC_EVENT_CODE.TASK_CANCELLED,payload:[0,0]};if(await this.blockOn({awaitable:new Awaitable(new Promise(e=>setTimeout(e,0))),isCancellable:t,forCallback:a})===AsyncTask.BlockResult.CANCELLED){if(this.#a!==AsyncTask.State.INITIAL)throw Error("task should be in initial state found ["+this.#a+"]");return this.#a=AsyncTask.State.CANCELLED,{code:ASYNC_EVENT_CODE.TASK_CANCELLED,payload:[0,0]}}return{code:ASYNC_EVENT_CODE.NONE,payload:[0,0]}}yieldSync(e){throw Error("AsyncTask#yieldSync() not implemented")}cancel(){if(te("[AsyncTask#cancel()] args",{}),!this.taskState()!==AsyncTask.State.CANCEL_DELIVERED)throw Error("invalid task state for cancellation");if(this.borrowedHandles.length>0)throw Error("task still has borrow handles");this.#s(Error("cancelled")),this.#a=AsyncTask.State.RESOLVED}resolve(e){if(te("[AsyncTask#resolve()] args",{results:e}),this.#a===AsyncTask.State.RESOLVED)throw Error("task is already resolved");if(this.borrowedHandles.length>0)throw Error("task still has borrow handles");this.#s(1===e.length?e[0]:e),this.#a=AsyncTask.State.RESOLVED}exit(){if(te("[AsyncTask#exit()] args",{}),this.#a!==AsyncTask.State.RESOLVED)throw Error("task exited without resolution");if(this.borrowedHandles>0)throw Error("task exited without clearing borrowed handles");const e=ee(this.#t);if(!e)throw Error("missing async state for component ["+this.#t+"]");if(!this.#r&&!e.inSyncExportCall)throw Error("sync task must be run from components known to be in a sync export call");e.inSyncExportCall=!1,this.startPendingTask()}startPendingTask(e){throw te("[AsyncTask#startPendingTask()] args",e),Error("AsyncTask#startPendingTask() not implemented")}createSubtask(e){te("[AsyncTask#createSubtask()] args",e);const t=new AsyncSubtask({componentIdx:this.componentIdx(),taskID:this.id(),memoryIdx:e?.memoryIdx});return this.#o.push(t),t}currentSubtask(){if(te("[AsyncTask#currentSubtask()]"),0===this.#o.length)throw Error("no current subtask");return this.#o.at(-1)}endCurrentSubtask(){if(te("[AsyncTask#endCurrentSubtask()]"),0===this.#o.length)throw Error("cannot end current subtask: no current subtask");const e=this.#o.pop();return e.drop(),e}}const K=new Map;function ee(e,t){return K.has(e)||K.set(e,new ComponentAsyncState),K.get(e)}class ComponentAsyncState{#i=!1;#l=Promise.withResolvers();#u=null;mayLeave=!0;waitableSets=new RepTable;waitables=new RepTable;#d=new Map;callingSyncImport(e){if(void 0===e)return this.#i;if("boolean"!=typeof e)throw new TypeError("invalid setting for async import");const t=this.#i;this.#i=e,!0===t&&!1===this.#i&&this.#f()}#f(){const e=this.#l;this.#l=Promise.withResolvers(),e.resolve()}async waitForSyncImportCallEnd(){await this.#l.promise}parkTaskOnAwaitable(e){if(!e.awaitable)throw new TypeError("missing awaitable when trying to park");if(!e.task)throw new TypeError("missing task when trying to park");const{awaitable:t,task:a}=e;let r=this.#d.get(t.id());r||(r=[],this.#d.set(t.id(),r)),r.push(a),this.wakeNextTaskForAwaitable(t)}wakeNextTaskForAwaitable(e){if(!e)throw new TypeError("missing awaitable when waking next task");const t=e.id(),a=this.#d.get(t);if(!a||0===a.length)return void te("[ComponentAsyncState] no tasks waiting for awaitable",{awaitableID:e.id()});let r=a.shift();if(!r)throw Error("no task in parked list despite previous check");if(!r.awaitableResume)throw Error("task ready due to awaitable is missing resume",{taskID:r.id(),awaitableID:t});r.awaitableResume()}async exclusiveLock(){null===this.#u&&(this.#u={ticket:0n});const e=++this.#u.ticket;let t;for(te("[ComponentAsyncState#exclusiveLock()] locking",{currentTicket:e-1n,ticket:e});this.#u.promise&&(t=await this.#u.promise,t!==e-1n););const{promise:a,resolve:r}=Promise.withResolvers();return this.#u={ticket:e,promise:a,resolve:r},this.#u.promise}exclusiveRelease(){if(te("[ComponentAsyncState#exclusiveRelease()] releasing",{currentTicket:null===this.#u?"none":this.#u.ticket}),null===this.#u)return;const e=this.#u;this.#u=null,e.resolve(e.ticket)}isExclusivelyLocked(){return null!==this.#u}}Promise.withResolvers||(Promise.withResolvers=()=>{let e,t;return{promise:new Promise((a,r)=>{e=a,t=r}),resolve:e,reject:t}});const te=(...e)=>{globalThis?.process?.env?.JCO_DEBUG&&console.debug(...e)},ae="random",re=()=>Math.random()>.5,se=e=>WebAssembly.compile(Uint8Array.from(atob(e),e=>e.charCodeAt(0))),ne=e=>fetch(e).then(WebAssembly.compileStreaming),oe=Symbol.for("cabiDispose"),ce=Symbol("handle"),ie=Symbol.for("cabiRep"),le=Symbol.dispose||Symbol.for("dispose"),ue=[];class ComponentError extends Error{constructor(e){const t="string"!=typeof e;super(t?e+""+" (see error.payload)":e),Object.defineProperty(this,"payload",{value:e,enumerable:t})}}function de(e){if(e&&fe.call(e,"payload"))return e.payload;if(e instanceof Error)throw e;return e}class RepTable{#p=[0,null];insert(e){te("[RepTable#insert()] args",{val:e});const t=this.#p[0];if(0===t)return this.#p.push(e),this.#p.push(null),(this.#p.length>>1)-1;this.#p[0]=this.#p[t<<1];const a=t<<1;return this.#p[a]=e,this.#p[a+1]=null,t}get(e){te("[RepTable#get()] args",{rep:e});const t=e<<1;return this.#p[t]}contains(e){te("[RepTable#contains()] args",{rep:e});const t=e<<1;return!!this.#p[t]}remove(e){if(te("[RepTable#remove()] args",{rep:e}),2===this.#p.length)throw Error("invalid");const t=e<<1,a=this.#p[t];if(0===a)throw Error("invalid resource rep (cannot be 0)");return this.#p[t]=this.#p[0],this.#p[0]=e,a}clear(){te("[RepTable#clear()] args",{rep:rep}),this.#p=[0,null]}}const fe=Object.prototype.hasOwnProperty,pe=WebAssembly.instantiate;let be;const ke=[Y,0],ye=new Map;let me,Ae=0;function we(){te('[iface="wasi:cli/stderr@0.2.6", function="get-stderr"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"get-stderr");const e=w();if(te('[iface="wasi:cli/stderr@0.2.6", function="get-stderr"] [Instruction::CallInterface] (sync, @ post-call)'),U(0),!(e instanceof j))throw new TypeError('Resource error: Not a valid "OutputStream" resource.');var t=e[ce];if(!t){const a=e[ie]||++Ae;ye.set(a,e),t=z(ke,a)}return te('[iface="wasi:cli/stderr@0.2.6", function="get-stderr"][Instruction::Return]',{funcName:"get-stderr",paramCount:1,async:!1,postReturn:!1}),t}function he(){te('[iface="wasi:cli/stdout@0.2.6", function="get-stdout"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"get-stdout");const e=v();if(te('[iface="wasi:cli/stdout@0.2.6", function="get-stdout"] [Instruction::CallInterface] (sync, @ post-call)'),U(0),!(e instanceof j))throw new TypeError('Resource error: Not a valid "OutputStream" resource.');var t=e[ce];if(!t){const a=e[ie]||++Ae;ye.set(a,e),t=z(ke,a)}return te('[iface="wasi:cli/stdout@0.2.6", function="get-stdout"][Instruction::Return]',{funcName:"get-stdout",paramCount:1,async:!1,postReturn:!1}),t}function ve(){te('[iface="wasi:clocks/monotonic-clock@0.2.6", function="now"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"now");const e=N();return te('[iface="wasi:clocks/monotonic-clock@0.2.6", function="now"] [Instruction::CallInterface] (sync, @ post-call)'),U(0),te('[iface="wasi:clocks/monotonic-clock@0.2.6", function="now"][Instruction::Return]',{funcName:"now",paramCount:1,async:!1,postReturn:!1}),O(e)}ue[2]=ke;const ge=[Y,0],Ie=new Map;let Ee,Ce,Re,Ne,Te=0;function Le(){te('[iface="wasi:cli/stdin@0.2.6", function="get-stdin"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"get-stdin");const e=h();if(te('[iface="wasi:cli/stdin@0.2.6", function="get-stdin"] [Instruction::CallInterface] (sync, @ post-call)'),U(0),!(e instanceof Z))throw new TypeError('Resource error: Not a valid "InputStream" resource.');var t=e[ce];if(!t){const a=e[ie]||++Te;Ie.set(a,e),t=z(ge,a)}return te('[iface="wasi:cli/stdin@0.2.6", function="get-stdin"][Instruction::Return]',{funcName:"get-stdin",paramCount:1,async:!1,postReturn:!1}),t}function Xe(e){let t;t=e?{tag:"err",val:void 0}:{tag:"ok",val:void 0},te('[iface="wasi:cli/exit@0.2.6", function="exit"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"exit");A(t),te('[iface="wasi:cli/exit@0.2.6", function="exit"] [Instruction::CallInterface] (sync, @ post-call)'),U(0),te('[iface="wasi:cli/exit@0.2.6", function="exit"][Instruction::Return]',{funcName:"exit",paramCount:0,async:!1,postReturn:!1})}ue[3]=ge;const Be=[Y,0],Ze=new Map;let je=0;function We(e,t){var a=e,r=Be[1+(a<<1)]&~Y,s=Ze.get(r);s||(s=Object.create(B.prototype),Object.defineProperty(s,ce,{writable:!0,value:a}),Object.defineProperty(s,ie,{writable:!0,value:r})),_.push(s),te('[iface="wasi:io/error@0.2.6", function="[method]error.to-debug-string"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]error.to-debug-string");const n=s.toDebugString();te('[iface="wasi:io/error@0.2.6", function="[method]error.to-debug-string"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var o=G(n,Re,Ce),c=D;x(Ce).setUint32(t+4,c,!0),x(Ce).setUint32(t+0,o,!0),te('[iface="wasi:io/error@0.2.6", function="[method]error.to-debug-string"][Instruction::Return]',{funcName:"[method]error.to-debug-string",paramCount:0,async:!1,postReturn:!1})}function Se(e,t,a,r){var s=e,n=ke[1+(s<<1)]&~Y,o=ye.get(n);o||(o=Object.create(j.prototype),Object.defineProperty(o,ce,{writable:!0,value:s}),Object.defineProperty(o,ie,{writable:!0,value:n})),_.push(o);var c=t,i=a,l=new Uint8Array(Ce.buffer.slice(c,c+1*i));te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.blocking-write-and-flush"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]output-stream.blocking-write-and-flush");let u;try{u={tag:"ok",val:o.blockingWriteAndFlush(l)}}catch(e){u={tag:"err",val:de(e)}}te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.blocking-write-and-flush"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var d=u;switch(d.tag){case"ok":d.val;x(Ce).setInt8(r+0,0,!0);break;case"err":{const e=d.val;x(Ce).setInt8(r+0,1,!0);var f=e;switch(f.tag){case"last-operation-failed":{const e=f.val;if(x(Ce).setInt8(r+4,0,!0),!(e instanceof B))throw new TypeError('Resource error: Not a valid "Error" resource.');var p=e[ce];if(!p){const t=e[ie]||++je;Ze.set(t,e),p=z(Be,t)}x(Ce).setInt32(r+8,p,!0);break}case"closed":x(Ce).setInt8(r+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(f.tag)}\` (received \`${f}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.blocking-write-and-flush"][Instruction::Return]',{funcName:"[method]output-stream.blocking-write-and-flush",paramCount:0,async:!1,postReturn:!1})}function xe(e){te('[iface="wasi:cli/environment@0.2.6", function="get-arguments"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"get-arguments");const t=y();te('[iface="wasi:cli/environment@0.2.6", function="get-arguments"] [Instruction::CallInterface] (sync, @ post-call)'),U(0);var a=t,r=a.length,s=Re(0,0,4,8*r);for(let e=0;e<a.length;e++){const t=s+8*e;var n=G(a[e],Re,Ce),o=D;x(Ce).setUint32(t+4,o,!0),x(Ce).setUint32(t+0,n,!0)}x(Ce).setUint32(e+4,r,!0),x(Ce).setUint32(e+0,s,!0),te('[iface="wasi:cli/environment@0.2.6", function="get-arguments"][Instruction::Return]',{funcName:"get-arguments",paramCount:0,async:!1,postReturn:!1})}function Oe(e){te('[iface="wasi:random/insecure-seed@0.2.6", function="insecure-seed"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"insecure-seed");const t=W();te('[iface="wasi:random/insecure-seed@0.2.6", function="insecure-seed"] [Instruction::CallInterface] (sync, @ post-call)'),U(0);var[a,r]=t;x(Ce).setBigInt64(e+0,O(a),!0),x(Ce).setBigInt64(e+8,O(r),!0),te('[iface="wasi:random/insecure-seed@0.2.6", function="insecure-seed"][Instruction::Return]',{funcName:"insecure-seed",paramCount:0,async:!1,postReturn:!1})}function Qe(e){te('[iface="wasi:cli/environment@0.2.6", function="get-environment"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"get-environment");const t=m();te('[iface="wasi:cli/environment@0.2.6", function="get-environment"] [Instruction::CallInterface] (sync, @ post-call)'),U(0);var a=t,r=a.length,s=Ne(0,0,4,16*r);for(let e=0;e<a.length;e++){const t=a[e],r=s+16*e;var[n,o]=t,c=G(n,Ne,Ce),i=D;x(Ce).setUint32(r+4,i,!0),x(Ce).setUint32(r+0,c,!0);var l=G(o,Ne,Ce),u=D;x(Ce).setUint32(r+12,u,!0),x(Ce).setUint32(r+8,l,!0)}x(Ce).setUint32(e+4,r,!0),x(Ce).setUint32(e+0,s,!0),te('[iface="wasi:cli/environment@0.2.6", function="get-environment"][Instruction::Return]',{funcName:"get-environment",paramCount:0,async:!1,postReturn:!1})}ue[1]=Be;const Fe=[Y,0],Ve=new Map;let De=0;function Ge(e,t){var a=e,r=Fe[1+(a<<1)]&~Y,s=Ve.get(r);s||(s=Object.create(L.prototype),Object.defineProperty(s,ce,{writable:!0,value:a}),Object.defineProperty(s,ie,{writable:!0,value:r})),_.push(s),te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.get-flags"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]descriptor.get-flags");let n;try{n={tag:"ok",val:s.getFlags()}}catch(e){n={tag:"err",val:de(e)}}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.get-flags"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var o=n;switch(o.tag){case"ok":{const e=o.val;x(Ce).setInt8(t+0,0,!0);let a=0;if("object"==typeof e&&null!==e)a=!!e.read|!!e.write<<1|!!e.fileIntegritySync<<2|!!e.dataIntegritySync<<3|!!e.requestedWriteSync<<4|!!e.mutateDirectory<<5;else if(null!=e)throw new TypeError("only an object, undefined or null can be converted to flags");x(Ce).setInt8(t+1,a,!0);break}case"err":{const e=o.val;x(Ce).setInt8(t+0,1,!0);var c=e;let a;switch(c){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw new TypeError(`"${c}" is not one of the cases of error-code`)}x(Ce).setInt8(t+1,a,!0);break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.get-flags"][Instruction::Return]',{funcName:"[method]descriptor.get-flags",paramCount:0,async:!1,postReturn:!1})}function Ye(e,t){var a=e,r=Be[1+(a<<1)]&~Y,s=Ze.get(r);s||(s=Object.create(B.prototype),Object.defineProperty(s,ce,{writable:!0,value:a}),Object.defineProperty(s,ie,{writable:!0,value:r})),_.push(s),te('[iface="wasi:filesystem/types@0.2.6", function="filesystem-error-code"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"filesystem-error-code");const n=X(s);te('[iface="wasi:filesystem/types@0.2.6", function="filesystem-error-code"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var o=n;if(null==o)x(Ce).setInt8(t+0,0,!0);else{const e=o;x(Ce).setInt8(t+0,1,!0);var c=e;let a;switch(c){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw new TypeError(`"${c}" is not one of the cases of error-code`)}x(Ce).setInt8(t+1,a,!0)}te('[iface="wasi:filesystem/types@0.2.6", function="filesystem-error-code"][Instruction::Return]',{funcName:"filesystem-error-code",paramCount:0,async:!1,postReturn:!1})}function ze(e,t,a,r,s,n,o){var c=e,i=Fe[1+(c<<1)]&~Y,l=Ve.get(i);l||(l=Object.create(L.prototype),Object.defineProperty(l,ce,{writable:!0,value:c}),Object.defineProperty(l,ie,{writable:!0,value:i})),_.push(l);var u={symlinkFollow:!!(1&t)},d=a,f=r,p=F.decode(new Uint8Array(Ce.buffer,d,f)),b={create:!!(1&s),directory:!!(2&s),exclusive:!!(4&s),truncate:!!(8&s)},k={read:!!(1&n),write:!!(2&n),fileIntegritySync:!!(4&n),dataIntegritySync:!!(8&n),requestedWriteSync:!!(16&n),mutateDirectory:!!(32&n)};te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.open-at"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]descriptor.open-at");let y;try{y={tag:"ok",val:l.openAt(u,p,b,k)}}catch(e){y={tag:"err",val:de(e)}}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.open-at"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var m=y;switch(m.tag){case"ok":{const e=m.val;if(x(Ce).setInt8(o+0,0,!0),!(e instanceof L))throw new TypeError('Resource error: Not a valid "Descriptor" resource.');var A=e[ce];if(!A){const t=e[ie]||++De;Ve.set(t,e),A=z(Fe,t)}x(Ce).setInt32(o+4,A,!0);break}case"err":{const e=m.val;x(Ce).setInt8(o+0,1,!0);var w=e;let t;switch(w){case"access":t=0;break;case"would-block":t=1;break;case"already":t=2;break;case"bad-descriptor":t=3;break;case"busy":t=4;break;case"deadlock":t=5;break;case"quota":t=6;break;case"exist":t=7;break;case"file-too-large":t=8;break;case"illegal-byte-sequence":t=9;break;case"in-progress":t=10;break;case"interrupted":t=11;break;case"invalid":t=12;break;case"io":t=13;break;case"is-directory":t=14;break;case"loop":t=15;break;case"too-many-links":t=16;break;case"message-size":t=17;break;case"name-too-long":t=18;break;case"no-device":t=19;break;case"no-entry":t=20;break;case"no-lock":t=21;break;case"insufficient-memory":t=22;break;case"insufficient-space":t=23;break;case"not-directory":t=24;break;case"not-empty":t=25;break;case"not-recoverable":t=26;break;case"unsupported":t=27;break;case"no-tty":t=28;break;case"no-such-device":t=29;break;case"overflow":t=30;break;case"not-permitted":t=31;break;case"pipe":t=32;break;case"read-only":t=33;break;case"invalid-seek":t=34;break;case"text-file-busy":t=35;break;case"cross-device":t=36;break;default:throw new TypeError(`"${w}" is not one of the cases of error-code`)}x(Ce).setInt8(o+4,t,!0);break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.open-at"][Instruction::Return]',{funcName:"[method]descriptor.open-at",paramCount:0,async:!1,postReturn:!1})}function Me(e,t,a){var r=e,s=Fe[1+(r<<1)]&~Y,n=Ve.get(s);n||(n=Object.create(L.prototype),Object.defineProperty(n,ce,{writable:!0,value:r}),Object.defineProperty(n,ie,{writable:!0,value:s})),_.push(n),te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.read-via-stream"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]descriptor.read-via-stream");let o;try{o={tag:"ok",val:n.readViaStream(BigInt.asUintN(64,t))}}catch(e){o={tag:"err",val:de(e)}}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.read-via-stream"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var c=o;switch(c.tag){case"ok":{const e=c.val;if(x(Ce).setInt8(a+0,0,!0),!(e instanceof Z))throw new TypeError('Resource error: Not a valid "InputStream" resource.');var i=e[ce];if(!i){const t=e[ie]||++Te;Ie.set(t,e),i=z(ge,t)}x(Ce).setInt32(a+4,i,!0);break}case"err":{const e=c.val;x(Ce).setInt8(a+0,1,!0);var l=e;let t;switch(l){case"access":t=0;break;case"would-block":t=1;break;case"already":t=2;break;case"bad-descriptor":t=3;break;case"busy":t=4;break;case"deadlock":t=5;break;case"quota":t=6;break;case"exist":t=7;break;case"file-too-large":t=8;break;case"illegal-byte-sequence":t=9;break;case"in-progress":t=10;break;case"interrupted":t=11;break;case"invalid":t=12;break;case"io":t=13;break;case"is-directory":t=14;break;case"loop":t=15;break;case"too-many-links":t=16;break;case"message-size":t=17;break;case"name-too-long":t=18;break;case"no-device":t=19;break;case"no-entry":t=20;break;case"no-lock":t=21;break;case"insufficient-memory":t=22;break;case"insufficient-space":t=23;break;case"not-directory":t=24;break;case"not-empty":t=25;break;case"not-recoverable":t=26;break;case"unsupported":t=27;break;case"no-tty":t=28;break;case"no-such-device":t=29;break;case"overflow":t=30;break;case"not-permitted":t=31;break;case"pipe":t=32;break;case"read-only":t=33;break;case"invalid-seek":t=34;break;case"text-file-busy":t=35;break;case"cross-device":t=36;break;default:throw new TypeError(`"${l}" is not one of the cases of error-code`)}x(Ce).setInt8(a+4,t,!0);break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.read-via-stream"][Instruction::Return]',{funcName:"[method]descriptor.read-via-stream",paramCount:0,async:!1,postReturn:!1})}function _e(e,t,a){var r=e,s=Fe[1+(r<<1)]&~Y,n=Ve.get(s);n||(n=Object.create(L.prototype),Object.defineProperty(n,ce,{writable:!0,value:r}),Object.defineProperty(n,ie,{writable:!0,value:s})),_.push(n),te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.write-via-stream"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]descriptor.write-via-stream");let o;try{o={tag:"ok",val:n.writeViaStream(BigInt.asUintN(64,t))}}catch(e){o={tag:"err",val:de(e)}}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.write-via-stream"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var c=o;switch(c.tag){case"ok":{const e=c.val;if(x(Ce).setInt8(a+0,0,!0),!(e instanceof j))throw new TypeError('Resource error: Not a valid "OutputStream" resource.');var i=e[ce];if(!i){const t=e[ie]||++Ae;ye.set(t,e),i=z(ke,t)}x(Ce).setInt32(a+4,i,!0);break}case"err":{const e=c.val;x(Ce).setInt8(a+0,1,!0);var l=e;let t;switch(l){case"access":t=0;break;case"would-block":t=1;break;case"already":t=2;break;case"bad-descriptor":t=3;break;case"busy":t=4;break;case"deadlock":t=5;break;case"quota":t=6;break;case"exist":t=7;break;case"file-too-large":t=8;break;case"illegal-byte-sequence":t=9;break;case"in-progress":t=10;break;case"interrupted":t=11;break;case"invalid":t=12;break;case"io":t=13;break;case"is-directory":t=14;break;case"loop":t=15;break;case"too-many-links":t=16;break;case"message-size":t=17;break;case"name-too-long":t=18;break;case"no-device":t=19;break;case"no-entry":t=20;break;case"no-lock":t=21;break;case"insufficient-memory":t=22;break;case"insufficient-space":t=23;break;case"not-directory":t=24;break;case"not-empty":t=25;break;case"not-recoverable":t=26;break;case"unsupported":t=27;break;case"no-tty":t=28;break;case"no-such-device":t=29;break;case"overflow":t=30;break;case"not-permitted":t=31;break;case"pipe":t=32;break;case"read-only":t=33;break;case"invalid-seek":t=34;break;case"text-file-busy":t=35;break;case"cross-device":t=36;break;default:throw new TypeError(`"${l}" is not one of the cases of error-code`)}x(Ce).setInt8(a+4,t,!0);break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.write-via-stream"][Instruction::Return]',{funcName:"[method]descriptor.write-via-stream",paramCount:0,async:!1,postReturn:!1})}function Pe(e,t){var a=e,r=Fe[1+(a<<1)]&~Y,s=Ve.get(r);s||(s=Object.create(L.prototype),Object.defineProperty(s,ce,{writable:!0,value:a}),Object.defineProperty(s,ie,{writable:!0,value:r})),_.push(s),te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.append-via-stream"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]descriptor.append-via-stream");let n;try{n={tag:"ok",val:s.appendViaStream()}}catch(e){n={tag:"err",val:de(e)}}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.append-via-stream"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var o=n;switch(o.tag){case"ok":{const e=o.val;if(x(Ce).setInt8(t+0,0,!0),!(e instanceof j))throw new TypeError('Resource error: Not a valid "OutputStream" resource.');var c=e[ce];if(!c){const t=e[ie]||++Ae;ye.set(t,e),c=z(ke,t)}x(Ce).setInt32(t+4,c,!0);break}case"err":{const e=o.val;x(Ce).setInt8(t+0,1,!0);var i=e;let a;switch(i){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw new TypeError(`"${i}" is not one of the cases of error-code`)}x(Ce).setInt8(t+4,a,!0);break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.append-via-stream"][Instruction::Return]',{funcName:"[method]descriptor.append-via-stream",paramCount:0,async:!1,postReturn:!1})}function Je(e,t){var a=e,r=Fe[1+(a<<1)]&~Y,s=Ve.get(r);s||(s=Object.create(L.prototype),Object.defineProperty(s,ce,{writable:!0,value:a}),Object.defineProperty(s,ie,{writable:!0,value:r})),_.push(s),te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.get-type"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]descriptor.get-type");let n;try{n={tag:"ok",val:s.getType()}}catch(e){n={tag:"err",val:de(e)}}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.get-type"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var o=n;switch(o.tag){case"ok":{const e=o.val;x(Ce).setInt8(t+0,0,!0);var c=e;let a;switch(c){case"unknown":a=0;break;case"block-device":a=1;break;case"character-device":a=2;break;case"directory":a=3;break;case"fifo":a=4;break;case"symbolic-link":a=5;break;case"regular-file":a=6;break;case"socket":a=7;break;default:throw new TypeError(`"${c}" is not one of the cases of descriptor-type`)}x(Ce).setInt8(t+1,a,!0);break}case"err":{const e=o.val;x(Ce).setInt8(t+0,1,!0);var i=e;let a;switch(i){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw new TypeError(`"${i}" is not one of the cases of error-code`)}x(Ce).setInt8(t+1,a,!0);break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.get-type"][Instruction::Return]',{funcName:"[method]descriptor.get-type",paramCount:0,async:!1,postReturn:!1})}function Ue(e,t){var a=e,r=Fe[1+(a<<1)]&~Y,s=Ve.get(r);s||(s=Object.create(L.prototype),Object.defineProperty(s,ce,{writable:!0,value:a}),Object.defineProperty(s,ie,{writable:!0,value:r})),_.push(s),te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.stat"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]descriptor.stat");let n;try{n={tag:"ok",val:s.stat()}}catch(e){n={tag:"err",val:de(e)}}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.stat"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var o=n;switch(o.tag){case"ok":{const e=o.val;x(Ce).setInt8(t+0,0,!0);var{type:c,linkCount:i,size:l,dataAccessTimestamp:u,dataModificationTimestamp:d,statusChangeTimestamp:f}=e,p=c;let a;switch(p){case"unknown":a=0;break;case"block-device":a=1;break;case"character-device":a=2;break;case"directory":a=3;break;case"fifo":a=4;break;case"symbolic-link":a=5;break;case"regular-file":a=6;break;case"socket":a=7;break;default:throw new TypeError(`"${p}" is not one of the cases of descriptor-type`)}x(Ce).setInt8(t+8,a,!0),x(Ce).setBigInt64(t+16,O(i),!0),x(Ce).setBigInt64(t+24,O(l),!0);var b=u;if(null==b)x(Ce).setInt8(t+32,0,!0);else{const e=b;x(Ce).setInt8(t+32,1,!0);var{seconds:k,nanoseconds:y}=e;x(Ce).setBigInt64(t+40,O(k),!0),x(Ce).setInt32(t+48,Q(y),!0)}var m=d;if(null==m)x(Ce).setInt8(t+56,0,!0);else{const e=m;x(Ce).setInt8(t+56,1,!0);var{seconds:A,nanoseconds:w}=e;x(Ce).setBigInt64(t+64,O(A),!0),x(Ce).setInt32(t+72,Q(w),!0)}var h=f;if(null==h)x(Ce).setInt8(t+80,0,!0);else{const e=h;x(Ce).setInt8(t+80,1,!0);var{seconds:v,nanoseconds:g}=e;x(Ce).setBigInt64(t+88,O(v),!0),x(Ce).setInt32(t+96,Q(g),!0)}break}case"err":{const e=o.val;x(Ce).setInt8(t+0,1,!0);var I=e;let a;switch(I){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw new TypeError(`"${I}" is not one of the cases of error-code`)}x(Ce).setInt8(t+8,a,!0);break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.stat"][Instruction::Return]',{funcName:"[method]descriptor.stat",paramCount:0,async:!1,postReturn:!1})}function He(e,t){var a=e,r=Fe[1+(a<<1)]&~Y,s=Ve.get(r);s||(s=Object.create(L.prototype),Object.defineProperty(s,ce,{writable:!0,value:a}),Object.defineProperty(s,ie,{writable:!0,value:r})),_.push(s),te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.metadata-hash"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]descriptor.metadata-hash");let n;try{n={tag:"ok",val:s.metadataHash()}}catch(e){n={tag:"err",val:de(e)}}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.metadata-hash"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var o=n;switch(o.tag){case"ok":{const e=o.val;x(Ce).setInt8(t+0,0,!0);var{lower:c,upper:i}=e;x(Ce).setBigInt64(t+8,O(c),!0),x(Ce).setBigInt64(t+16,O(i),!0);break}case"err":{const e=o.val;x(Ce).setInt8(t+0,1,!0);var l=e;let a;switch(l){case"access":a=0;break;case"would-block":a=1;break;case"already":a=2;break;case"bad-descriptor":a=3;break;case"busy":a=4;break;case"deadlock":a=5;break;case"quota":a=6;break;case"exist":a=7;break;case"file-too-large":a=8;break;case"illegal-byte-sequence":a=9;break;case"in-progress":a=10;break;case"interrupted":a=11;break;case"invalid":a=12;break;case"io":a=13;break;case"is-directory":a=14;break;case"loop":a=15;break;case"too-many-links":a=16;break;case"message-size":a=17;break;case"name-too-long":a=18;break;case"no-device":a=19;break;case"no-entry":a=20;break;case"no-lock":a=21;break;case"insufficient-memory":a=22;break;case"insufficient-space":a=23;break;case"not-directory":a=24;break;case"not-empty":a=25;break;case"not-recoverable":a=26;break;case"unsupported":a=27;break;case"no-tty":a=28;break;case"no-such-device":a=29;break;case"overflow":a=30;break;case"not-permitted":a=31;break;case"pipe":a=32;break;case"read-only":a=33;break;case"invalid-seek":a=34;break;case"text-file-busy":a=35;break;case"cross-device":a=36;break;default:throw new TypeError(`"${l}" is not one of the cases of error-code`)}x(Ce).setInt8(t+8,a,!0);break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:filesystem/types@0.2.6", function="[method]descriptor.metadata-hash"][Instruction::Return]',{funcName:"[method]descriptor.metadata-hash",paramCount:0,async:!1,postReturn:!1})}function $e(e,t,a){var r=e,s=ge[1+(r<<1)]&~Y,n=Ie.get(s);n||(n=Object.create(Z.prototype),Object.defineProperty(n,ce,{writable:!0,value:r}),Object.defineProperty(n,ie,{writable:!0,value:s})),_.push(n),te('[iface="wasi:io/streams@0.2.6", function="[method]input-stream.blocking-read"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]input-stream.blocking-read");let o;try{o={tag:"ok",val:n.blockingRead(BigInt.asUintN(64,t))}}catch(e){o={tag:"err",val:de(e)}}te('[iface="wasi:io/streams@0.2.6", function="[method]input-stream.blocking-read"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var c=o;switch(c.tag){case"ok":{const e=c.val;x(Ce).setInt8(a+0,0,!0);var i=e,l=i.byteLength,u=Ne(0,0,1,1*l),d=new Uint8Array(i.buffer||i,i.byteOffset,1*l);new Uint8Array(Ce.buffer,u,1*l).set(d),x(Ce).setUint32(a+8,l,!0),x(Ce).setUint32(a+4,u,!0);break}case"err":{const e=c.val;x(Ce).setInt8(a+0,1,!0);var f=e;switch(f.tag){case"last-operation-failed":{const e=f.val;if(x(Ce).setInt8(a+4,0,!0),!(e instanceof B))throw new TypeError('Resource error: Not a valid "Error" resource.');var p=e[ce];if(!p){const t=e[ie]||++je;Ze.set(t,e),p=z(Be,t)}x(Ce).setInt32(a+8,p,!0);break}case"closed":x(Ce).setInt8(a+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(f.tag)}\` (received \`${f}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:io/streams@0.2.6", function="[method]input-stream.blocking-read"][Instruction::Return]',{funcName:"[method]input-stream.blocking-read",paramCount:0,async:!1,postReturn:!1})}function qe(e,t,a){var r=e,s=ge[1+(r<<1)]&~Y,n=Ie.get(s);n||(n=Object.create(Z.prototype),Object.defineProperty(n,ce,{writable:!0,value:r}),Object.defineProperty(n,ie,{writable:!0,value:s})),_.push(n),te('[iface="wasi:io/streams@0.2.6", function="[method]input-stream.read"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]input-stream.read");let o;try{o={tag:"ok",val:n.read(BigInt.asUintN(64,t))}}catch(e){o={tag:"err",val:de(e)}}te('[iface="wasi:io/streams@0.2.6", function="[method]input-stream.read"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var c=o;switch(c.tag){case"ok":{const e=c.val;x(Ce).setInt8(a+0,0,!0);var i=e,l=i.byteLength,u=Ne(0,0,1,1*l),d=new Uint8Array(i.buffer||i,i.byteOffset,1*l);new Uint8Array(Ce.buffer,u,1*l).set(d),x(Ce).setUint32(a+8,l,!0),x(Ce).setUint32(a+4,u,!0);break}case"err":{const e=c.val;x(Ce).setInt8(a+0,1,!0);var f=e;switch(f.tag){case"last-operation-failed":{const e=f.val;if(x(Ce).setInt8(a+4,0,!0),!(e instanceof B))throw new TypeError('Resource error: Not a valid "Error" resource.');var p=e[ce];if(!p){const t=e[ie]||++je;Ze.set(t,e),p=z(Be,t)}x(Ce).setInt32(a+8,p,!0);break}case"closed":x(Ce).setInt8(a+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(f.tag)}\` (received \`${f}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:io/streams@0.2.6", function="[method]input-stream.read"][Instruction::Return]',{funcName:"[method]input-stream.read",paramCount:0,async:!1,postReturn:!1})}function Ke(e,t){var a=e,r=ke[1+(a<<1)]&~Y,s=ye.get(r);s||(s=Object.create(j.prototype),Object.defineProperty(s,ce,{writable:!0,value:a}),Object.defineProperty(s,ie,{writable:!0,value:r})),_.push(s),te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.check-write"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]output-stream.check-write");let n;try{n={tag:"ok",val:s.checkWrite()}}catch(e){n={tag:"err",val:de(e)}}te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.check-write"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var o=n;switch(o.tag){case"ok":{const e=o.val;x(Ce).setInt8(t+0,0,!0),x(Ce).setBigInt64(t+8,O(e),!0);break}case"err":{const e=o.val;x(Ce).setInt8(t+0,1,!0);var c=e;switch(c.tag){case"last-operation-failed":{const e=c.val;if(x(Ce).setInt8(t+8,0,!0),!(e instanceof B))throw new TypeError('Resource error: Not a valid "Error" resource.');var i=e[ce];if(!i){const t=e[ie]||++je;Ze.set(t,e),i=z(Be,t)}x(Ce).setInt32(t+12,i,!0);break}case"closed":x(Ce).setInt8(t+8,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(c.tag)}\` (received \`${c}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.check-write"][Instruction::Return]',{funcName:"[method]output-stream.check-write",paramCount:0,async:!1,postReturn:!1})}function et(e,t,a,r){var s=e,n=ke[1+(s<<1)]&~Y,o=ye.get(n);o||(o=Object.create(j.prototype),Object.defineProperty(o,ce,{writable:!0,value:s}),Object.defineProperty(o,ie,{writable:!0,value:n})),_.push(o);var c=t,i=a,l=new Uint8Array(Ce.buffer.slice(c,c+1*i));te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.write"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]output-stream.write");let u;try{u={tag:"ok",val:o.write(l)}}catch(e){u={tag:"err",val:de(e)}}te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.write"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var d=u;switch(d.tag){case"ok":d.val;x(Ce).setInt8(r+0,0,!0);break;case"err":{const e=d.val;x(Ce).setInt8(r+0,1,!0);var f=e;switch(f.tag){case"last-operation-failed":{const e=f.val;if(x(Ce).setInt8(r+4,0,!0),!(e instanceof B))throw new TypeError('Resource error: Not a valid "Error" resource.');var p=e[ce];if(!p){const t=e[ie]||++je;Ze.set(t,e),p=z(Be,t)}x(Ce).setInt32(r+8,p,!0);break}case"closed":x(Ce).setInt8(r+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(f.tag)}\` (received \`${f}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.write"][Instruction::Return]',{funcName:"[method]output-stream.write",paramCount:0,async:!1,postReturn:!1})}function tt(e,t){var a=e,r=ke[1+(a<<1)]&~Y,s=ye.get(r);s||(s=Object.create(j.prototype),Object.defineProperty(s,ce,{writable:!0,value:a}),Object.defineProperty(s,ie,{writable:!0,value:r})),_.push(s),te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.blocking-flush"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"[method]output-stream.blocking-flush");let n;try{n={tag:"ok",val:s.blockingFlush()}}catch(e){n={tag:"err",val:de(e)}}te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.blocking-flush"] [Instruction::CallInterface] (sync, @ post-call)');for(const e of _)e[ce]=void 0;_=[],U(0);var o=n;switch(o.tag){case"ok":o.val;x(Ce).setInt8(t+0,0,!0);break;case"err":{const e=o.val;x(Ce).setInt8(t+0,1,!0);var c=e;switch(c.tag){case"last-operation-failed":{const e=c.val;if(x(Ce).setInt8(t+4,0,!0),!(e instanceof B))throw new TypeError('Resource error: Not a valid "Error" resource.');var i=e[ce];if(!i){const t=e[ie]||++je;Ze.set(t,e),i=z(Be,t)}x(Ce).setInt32(t+8,i,!0);break}case"closed":x(Ce).setInt8(t+4,1,!0);break;default:throw new TypeError(`invalid variant tag value \`${JSON.stringify(c.tag)}\` (received \`${c}\`) specified for \`StreamError\``)}break}default:throw new TypeError("invalid variant specified for result")}te('[iface="wasi:io/streams@0.2.6", function="[method]output-stream.blocking-flush"][Instruction::Return]',{funcName:"[method]output-stream.blocking-flush",paramCount:0,async:!1,postReturn:!1})}function at(e){te('[iface="wasi:filesystem/preopens@0.2.6", function="get-directories"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"get-directories");const t=T();te('[iface="wasi:filesystem/preopens@0.2.6", function="get-directories"] [Instruction::CallInterface] (sync, @ post-call)'),U(0);var a=t,r=a.length,s=Ne(0,0,4,12*r);for(let e=0;e<a.length;e++){const t=a[e],r=s+12*e;var[n,o]=t;if(!(n instanceof L))throw new TypeError('Resource error: Not a valid "Descriptor" resource.');var c=n[ce];if(!c){const e=n[ie]||++De;Ve.set(e,n),c=z(Fe,e)}x(Ce).setInt32(r+0,c,!0);var i=G(o,Ne,Ce),l=D;x(Ce).setUint32(r+8,l,!0),x(Ce).setUint32(r+4,i,!0)}x(Ce).setUint32(e+4,r,!0),x(Ce).setUint32(e+0,s,!0),te('[iface="wasi:filesystem/preopens@0.2.6", function="get-directories"][Instruction::Return]',{funcName:"get-directories",paramCount:0,async:!1,postReturn:!1})}ue[7]=Fe;const rt=[Y,0],st=new Map;let nt=0;function ot(e){te('[iface="wasi:cli/terminal-stdin@0.2.6", function="get-terminal-stdin"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"get-terminal-stdin");const t=C();te('[iface="wasi:cli/terminal-stdin@0.2.6", function="get-terminal-stdin"] [Instruction::CallInterface] (sync, @ post-call)'),U(0);var a=t;if(null==a)x(Ce).setInt8(e+0,0,!0);else{const t=a;if(x(Ce).setInt8(e+0,1,!0),!(t instanceof g))throw new TypeError('Resource error: Not a valid "TerminalInput" resource.');var r=t[ce];if(!r){const e=t[ie]||++nt;st.set(e,t),r=z(rt,e)}x(Ce).setInt32(e+4,r,!0)}te('[iface="wasi:cli/terminal-stdin@0.2.6", function="get-terminal-stdin"][Instruction::Return]',{funcName:"get-terminal-stdin",paramCount:0,async:!1,postReturn:!1})}ue[4]=rt;const ct=[Y,0],it=new Map;let lt,ut=0;function dt(e){te('[iface="wasi:cli/terminal-stdout@0.2.6", function="get-terminal-stdout"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"get-terminal-stdout");const t=R();te('[iface="wasi:cli/terminal-stdout@0.2.6", function="get-terminal-stdout"] [Instruction::CallInterface] (sync, @ post-call)'),U(0);var a=t;if(null==a)x(Ce).setInt8(e+0,0,!0);else{const t=a;if(x(Ce).setInt8(e+0,1,!0),!(t instanceof I))throw new TypeError('Resource error: Not a valid "TerminalOutput" resource.');var r=t[ce];if(!r){const e=t[ie]||++ut;it.set(e,t),r=z(ct,e)}x(Ce).setInt32(e+4,r,!0)}te('[iface="wasi:cli/terminal-stdout@0.2.6", function="get-terminal-stdout"][Instruction::Return]',{funcName:"get-terminal-stdout",paramCount:0,async:!1,postReturn:!1})}function ft(e){te('[iface="wasi:cli/terminal-stderr@0.2.6", function="get-terminal-stderr"] [Instruction::CallInterface] (async? sync, @ enter)');J(0,!1,"get-terminal-stderr");const t=E();te('[iface="wasi:cli/terminal-stderr@0.2.6", function="get-terminal-stderr"] [Instruction::CallInterface] (sync, @ post-call)'),U(0);var a=t;if(null==a)x(Ce).setInt8(e+0,0,!0);else{const t=a;if(x(Ce).setInt8(e+0,1,!0),!(t instanceof I))throw new TypeError('Resource error: Not a valid "TerminalOutput" resource.');var r=t[ce];if(!r){const e=t[ie]||++ut;it.set(e,t),r=z(ct,e)}x(Ce).setInt32(e+4,r,!0)}te('[iface="wasi:cli/terminal-stderr@0.2.6", function="get-terminal-stderr"][Instruction::Return]',{funcName:"get-terminal-stderr",paramCount:0,async:!1,postReturn:!1})}function pt(e){const t=M(Be,e);if(t.own){const e=Ze.get(t.rep);e?(e[le]&&e[le](),Ze.delete(t.rep)):B[oe]&&B[oe](t.rep)}}function bt(e){const t=M(ke,e);if(t.own){const e=ye.get(t.rep);e?(e[le]&&e[le](),ye.delete(t.rep)):j[oe]&&j[oe](t.rep)}}ue[5]=ct;const kt=[Y,0];new Map;function yt(e){if(M(kt,e).own)throw new TypeError("unreachable trampoline for resource [ResourceIndex(0)]")}function mt(e){const t=M(ge,e);if(t.own){const e=Ie.get(t.rep);e?(e[le]&&e[le](),Ie.delete(t.rep)):Z[oe]&&Z[oe](t.rep)}}ue[0]=kt;const At=[Y,0];new Map;function wt(e){if(M(At,e).own)throw new TypeError("unreachable trampoline for resource [ResourceIndex(8)]")}ue[8]=At;const ht=[Y,0];new Map;function vt(e){if(M(ht,e).own)throw new TypeError("unreachable trampoline for resource [ResourceIndex(9)]")}ue[9]=ht;const gt=[Y,0];new Map;function It(e){if(M(gt,e).own)throw new TypeError("unreachable trampoline for resource [ResourceIndex(10)]")}ue[10]=gt;const Et=[Y,0];new Map;function Ct(e){if(M(Et,e).own)throw new TypeError("unreachable trampoline for resource [ResourceIndex(11)]")}ue[11]=Et;const Rt=[Y,0];new Map;let Nt;function Tt(e){if(M(Rt,e).own)throw new TypeError("unreachable trampoline for resource [ResourceIndex(6)]")}function Lt(e){const t=M(Fe,e);if(t.own){const e=Ve.get(t.rep);e?(e[le]&&e[le](),Ve.delete(t.rep)):L[oe]&&L[oe](t.rep)}}function Xt(e){const t=M(rt,e);if(t.own){const e=st.get(t.rep);e?(e[le]&&e[le](),st.delete(t.rep)):g[oe]&&g[oe](t.rep)}}function Bt(e){const t=M(ct,e);if(t.own){const e=it.get(t.rep);e?(e[le]&&e[le](),it.delete(t.rep)):I[oe]&&I[oe](t.rep)}}ue[6]=Rt;const Zt=(()=>{let e,t,a,r=function*(){const e=ne(new URL("./yelc.core.wasm",import.meta.url)),t=ne(new URL("./yelc.core2.wasm",import.meta.url)),a=se("AGFzbQEAAAABTAtgAn9/AGAEf39/fwBgAn9/AX9gBH9/f38Bf2AJf39/f39+fn9/AX9gAX8Bf2ADf39/AX9gAX8AYAF/AGAHf39/f39/fwBgA39+fwADJSQAAQIDAwQCAgUCAgYHBQgICAAACQoKAAAAAAoKAAEAAQgICAgEBQFwASQkB7YBJQEwAAABMQABATIAAgEzAAMBNAAEATUABQE2AAYBNwAHATgACAE5AAkCMTAACgIxMQALAjEyAAwCMTMADQIxNAAOAjE1AA8CMTYAEAIxNwARAjE4ABICMTkAEwIyMAAUAjIxABUCMjIAFgIyMwAXAjI0ABgCMjUAGQIyNgAaAjI3ABsCMjgAHAIyOQAdAjMwAB4CMzEAHwIzMgAgAjMzACECMzQAIgIzNQAjCCRpbXBvcnRzAQAK0wMkCwAgACABQQARAAALDwAgACABIAIgA0EBEQEACwsAIAAgAUECEQIACw8AIAAgASACIANBAxEDAAsPACAAIAEgAiADQQQRAwALGQAgACABIAIgAyAEIAUgBiAHIAhBBREEAAsLACAAIAFBBhECAAsLACAAIAFBBxECAAsJACAAQQgRBQALCwAgACABQQkRAgALCwAgACABQQoRAgALDQAgACABIAJBCxEGAAsJACAAQQwRBwALCQAgAEENEQUACwkAIABBDhEIAAsJACAAQQ8RCAALCQAgAEEQEQgACwsAIAAgAUEREQAACwsAIAAgAUESEQAACxUAIAAgASACIAMgBCAFIAZBExEJAAsNACAAIAEgAkEUEQoACw0AIAAgASACQRURCgALCwAgACABQRYRAAALCwAgACABQRcRAAALCwAgACABQRgRAAALCwAgACABQRkRAAALDQAgACABIAJBGhEKAAsNACAAIAEgAkEbEQoACwsAIAAgAUEcEQAACw8AIAAgASACIANBHREBAAsLACAAIAFBHhEAAAsPACAAIAEgAiADQR8RAQALCQAgAEEgEQgACwkAIABBIREIAAsJACAAQSIRCAALCQAgAEEjEQgACwAvCXByb2R1Y2VycwEMcHJvY2Vzc2VkLWJ5AQ13aXQtY29tcG9uZW50BzAuMjM5LjAAtBAEbmFtZQATEndpdC1jb21wb25lbnQ6c2hpbQGXECQAOmluZGlyZWN0LXdhc2k6aW8vZXJyb3JAMC4yLjQtW21ldGhvZF1lcnJvci50by1kZWJ1Zy1zdHJpbmcBTWluZGlyZWN0LXdhc2k6aW8vc3RyZWFtc0AwLjIuNC1bbWV0aG9kXW91dHB1dC1zdHJlYW0uYmxvY2tpbmctd3JpdGUtYW5kLWZsdXNoAixhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWZkX2ZpbGVzdGF0X2dldAMkYWRhcHQtd2FzaV9zbmFwc2hvdF9wcmV2aWV3MS1mZF9yZWFkBCVhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWZkX3dyaXRlBSZhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLXBhdGhfb3BlbgYoYWRhcHQtd2FzaV9zbmFwc2hvdF9wcmV2aWV3MS1lbnZpcm9uX2dldAcuYWRhcHQtd2FzaV9zbmFwc2hvdF9wcmV2aWV3MS1lbnZpcm9uX3NpemVzX2dldAglYWRhcHQtd2FzaV9zbmFwc2hvdF9wcmV2aWV3MS1mZF9jbG9zZQkqYWRhcHQtd2FzaV9zbmFwc2hvdF9wcmV2aWV3MS1mZF9mZHN0YXRfZ2V0CithZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWZkX3ByZXN0YXRfZ2V0CzBhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWZkX3ByZXN0YXRfZGlyX25hbWUMJmFkYXB0LXdhc2lfc25hcHNob3RfcHJldmlldzEtcHJvY19leGl0DTBhZGFwdC13YXNpX3NuYXBzaG90X3ByZXZpZXcxLWFkYXB0ZXJfY2xvc2VfYmFkZmQOMWluZGlyZWN0LXdhc2k6Y2xpL2Vudmlyb25tZW50QDAuMi40LWdldC1hcmd1bWVudHMPNmluZGlyZWN0LXdhc2k6cmFuZG9tL2luc2VjdXJlLXNlZWRAMC4yLjQtaW5zZWN1cmUtc2VlZBAzaW5kaXJlY3Qtd2FzaTpjbGkvZW52aXJvbm1lbnRAMC4yLjYtZ2V0LWVudmlyb25tZW50EUFpbmRpcmVjdC13YXNpOmZpbGVzeXN0ZW0vdHlwZXNAMC4yLjYtW21ldGhvZF1kZXNjcmlwdG9yLmdldC1mbGFncxI6aW5kaXJlY3Qtd2FzaTpmaWxlc3lzdGVtL3R5cGVzQDAuMi42LWZpbGVzeXN0ZW0tZXJyb3ItY29kZRM/aW5kaXJlY3Qtd2FzaTpmaWxlc3lzdGVtL3R5cGVzQDAuMi42LVttZXRob2RdZGVzY3JpcHRvci5vcGVuLWF0FEdpbmRpcmVjdC13YXNpOmZpbGVzeXN0ZW0vdHlwZXNAMC4yLjYtW21ldGhvZF1kZXNjcmlwdG9yLnJlYWQtdmlhLXN0cmVhbRVIaW5kaXJlY3Qtd2FzaTpmaWxlc3lzdGVtL3R5cGVzQDAuMi42LVttZXRob2RdZGVzY3JpcHRvci53cml0ZS12aWEtc3RyZWFtFklpbmRpcmVjdC13YXNpOmZpbGVzeXN0ZW0vdHlwZXNAMC4yLjYtW21ldGhvZF1kZXNjcmlwdG9yLmFwcGVuZC12aWEtc3RyZWFtF0BpbmRpcmVjdC13YXNpOmZpbGVzeXN0ZW0vdHlwZXNAMC4yLjYtW21ldGhvZF1kZXNjcmlwdG9yLmdldC10eXBlGDxpbmRpcmVjdC13YXNpOmZpbGVzeXN0ZW0vdHlwZXNAMC4yLjYtW21ldGhvZF1kZXNjcmlwdG9yLnN0YXQZRWluZGlyZWN0LXdhc2k6ZmlsZXN5c3RlbS90eXBlc0AwLjIuNi1bbWV0aG9kXWRlc2NyaXB0b3IubWV0YWRhdGEtaGFzaBpBaW5kaXJlY3Qtd2FzaTppby9zdHJlYW1zQDAuMi42LVttZXRob2RdaW5wdXQtc3RyZWFtLmJsb2NraW5nLXJlYWQbOGluZGlyZWN0LXdhc2k6aW8vc3RyZWFtc0AwLjIuNi1bbWV0aG9kXWlucHV0LXN0cmVhbS5yZWFkHEBpbmRpcmVjdC13YXNpOmlvL3N0cmVhbXNAMC4yLjYtW21ldGhvZF1vdXRwdXQtc3RyZWFtLmNoZWNrLXdyaXRlHTppbmRpcmVjdC13YXNpOmlvL3N0cmVhbXNAMC4yLjYtW21ldGhvZF1vdXRwdXQtc3RyZWFtLndyaXRlHkNpbmRpcmVjdC13YXNpOmlvL3N0cmVhbXNAMC4yLjYtW21ldGhvZF1vdXRwdXQtc3RyZWFtLmJsb2NraW5nLWZsdXNoH01pbmRpcmVjdC13YXNpOmlvL3N0cmVhbXNAMC4yLjYtW21ldGhvZF1vdXRwdXQtc3RyZWFtLmJsb2NraW5nLXdyaXRlLWFuZC1mbHVzaCA3aW5kaXJlY3Qtd2FzaTpmaWxlc3lzdGVtL3ByZW9wZW5zQDAuMi42LWdldC1kaXJlY3RvcmllcyE5aW5kaXJlY3Qtd2FzaTpjbGkvdGVybWluYWwtc3RkaW5AMC4yLjYtZ2V0LXRlcm1pbmFsLXN0ZGluIjtpbmRpcmVjdC13YXNpOmNsaS90ZXJtaW5hbC1zdGRvdXRAMC4yLjYtZ2V0LXRlcm1pbmFsLXN0ZG91dCM7aW5kaXJlY3Qtd2FzaTpjbGkvdGVybWluYWwtc3RkZXJyQDAuMi42LWdldC10ZXJtaW5hbC1zdGRlcnI"),r=se("AGFzbQEAAAABTAtgAn9/AGAEf39/fwBgAn9/AX9gBH9/f38Bf2AJf39/f39+fn9/AX9gAX8Bf2ADf39/AX9gAX8AYAF/AGAHf39/f39/fwBgA39+fwAC3gElAAEwAAAAATEAAQABMgACAAEzAAMAATQAAwABNQAEAAE2AAIAATcAAgABOAAFAAE5AAIAAjEwAAIAAjExAAYAAjEyAAcAAjEzAAUAAjE0AAgAAjE1AAgAAjE2AAgAAjE3AAAAAjE4AAAAAjE5AAkAAjIwAAoAAjIxAAoAAjIyAAAAAjIzAAAAAjI0AAAAAjI1AAAAAjI2AAoAAjI3AAoAAjI4AAAAAjI5AAEAAjMwAAAAAjMxAAEAAjMyAAgAAjMzAAgAAjM0AAgAAjM1AAgACCRpbXBvcnRzAXABJCQJKgEAQQALJAABAgMEBQYHCAkKCwwNDg8QERITFBUWFxgZGhscHR4fICEiIwAvCXByb2R1Y2VycwEMcHJvY2Vzc2VkLWJ5AQ13aXQtY29tcG9uZW50BzAuMjM5LjAAHARuYW1lABUUd2l0LWNvbXBvbmVudDpmaXh1cHM");({exports:be}=yield pe(yield a)),({exports:me}=yield pe(yield e,{"wasi:cli/environment@0.2.4":{"get-arguments":be[14]},"wasi:cli/stderr@0.2.4":{"get-stderr":we},"wasi:cli/stdout@0.2.4":{"get-stdout":he},"wasi:clocks/monotonic-clock@0.2.4":{now:ve},"wasi:io/error@0.2.4":{"[method]error.to-debug-string":be[0],"[resource-drop]error":pt},"wasi:io/poll@0.2.0":{"[resource-drop]pollable":yt},"wasi:io/streams@0.2.0":{"[resource-drop]input-stream":mt,"[resource-drop]output-stream":bt},"wasi:io/streams@0.2.4":{"[method]output-stream.blocking-write-and-flush":be[1],"[resource-drop]output-stream":bt},"wasi:random/insecure-seed@0.2.4":{"insecure-seed":be[15]},"wasi:sockets/tcp@0.2.0":{"[resource-drop]tcp-socket":Ct},"wasi:sockets/udp@0.2.0":{"[resource-drop]incoming-datagram-stream":vt,"[resource-drop]outgoing-datagram-stream":It,"[resource-drop]udp-socket":wt},wasi_snapshot_preview1:{adapter_close_badfd:be[13],environ_get:be[6],environ_sizes_get:be[7],fd_close:be[8],fd_fdstat_get:be[9],fd_filestat_get:be[2],fd_prestat_dir_name:be[11],fd_prestat_get:be[10],fd_read:be[3],fd_write:be[4],path_open:be[5],proc_exit:be[12]}})),({exports:Ee}=yield pe(yield t,{__main_module__:{_start:me._start,cabi_realloc:me.cabi_realloc},env:{memory:me.memory},"wasi:cli/environment@0.2.6":{"get-environment":be[16]},"wasi:cli/exit@0.2.6":{exit:Xe},"wasi:cli/stderr@0.2.6":{"get-stderr":we},"wasi:cli/stdin@0.2.6":{"get-stdin":Le},"wasi:cli/stdout@0.2.6":{"get-stdout":he},"wasi:cli/terminal-input@0.2.6":{"[resource-drop]terminal-input":Xt},"wasi:cli/terminal-output@0.2.6":{"[resource-drop]terminal-output":Bt},"wasi:cli/terminal-stderr@0.2.6":{"get-terminal-stderr":be[35]},"wasi:cli/terminal-stdin@0.2.6":{"get-terminal-stdin":be[33]},"wasi:cli/terminal-stdout@0.2.6":{"get-terminal-stdout":be[34]},"wasi:filesystem/preopens@0.2.6":{"get-directories":be[32]},"wasi:filesystem/types@0.2.6":{"[method]descriptor.append-via-stream":be[22],"[method]descriptor.get-flags":be[17],"[method]descriptor.get-type":be[23],"[method]descriptor.metadata-hash":be[25],"[method]descriptor.open-at":be[19],"[method]descriptor.read-via-stream":be[20],"[method]descriptor.stat":be[24],"[method]descriptor.write-via-stream":be[21],"[resource-drop]descriptor":Lt,"[resource-drop]directory-entry-stream":Tt,"filesystem-error-code":be[18]},"wasi:io/error@0.2.6":{"[resource-drop]error":pt},"wasi:io/streams@0.2.6":{"[method]input-stream.blocking-read":be[26],"[method]input-stream.read":be[27],"[method]output-stream.blocking-flush":be[30],"[method]output-stream.blocking-write-and-flush":be[31],"[method]output-stream.check-write":be[28],"[method]output-stream.write":be[29],"[resource-drop]input-stream":mt,"[resource-drop]output-stream":bt}})),Ce=me.memory,Re=me.cabi_realloc,Ne=Ee.cabi_import_realloc,({exports:lt}=yield pe(yield r,{"":{$imports:be.$imports,0:We,1:Se,10:Ee.fd_prestat_get,11:Ee.fd_prestat_dir_name,12:Ee.proc_exit,13:Ee.adapter_close_badfd,14:xe,15:Oe,16:Qe,17:Ge,18:Ye,19:ze,2:Ee.fd_filestat_get,20:Me,21:_e,22:Pe,23:Je,24:Ue,25:He,26:$e,27:qe,28:Ke,29:et,3:Ee.fd_read,30:tt,31:Se,32:at,33:ot,34:dt,35:ft,4:Ee.fd_write,5:Ee.path_open,6:Ee.environ_get,7:Ee.environ_sizes_get,8:Ee.fd_close,9:Ee.fd_fdstat_get}})),Nt=Ee["wasi:cli/run@0.2.6#run"]}();const s=function s(n){try{let o;do{({value:n,done:o}=r.next(n))}while(!(n instanceof Promise||o));if(o){if(!t)return n;t(n)}e||(e=new Promise((e,r)=>(t=e,a=r))),n.then(s,a)}catch(e){if(!a)throw e;a(e)}}(null);return e||s})();await Zt;const jt={run:function(){te('[iface="wasi:cli/run@0.2.6", function="run"][Instruction::CallWasm] enter',{funcName:"run",paramCount:0,async:!1,postReturn:!1}),J(0,!1,"run026Run");const e=Nt();let t;U(0),t=e?{tag:"err",val:void 0}:{tag:"ok",val:void 0},te('[iface="wasi:cli/run@0.2.6", function="run"][Instruction::Return]',{funcName:"run",paramCount:1,async:!1,postReturn:!1});const a=t;if("object"==typeof a&&"err"===a.tag)throw new ComponentError(a.val);return a.val}};export{jt as run,jt as"wasi:cli/run@0.2.6"};